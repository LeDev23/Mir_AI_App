{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\MirAI\\\\fullstack-chatbot\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [message, setMessage] = useState('');\n  const [conversation, setConversation] = useState([]);\n  const [isLoading, setIsLoading] = useState(false); // Loading state\n  const userId = 'user123'; // Replace with a unique user ID (e.g., from authentication)\n  const chatWindowRef = useRef(null); // Ref for auto-scrolling\n\n  // Function to send a message\n  const sendMessage = useCallback(async () => {\n    if (!message.trim()) return;\n    const userMessage = {\n      sender: 'user',\n      text: message\n    };\n    setConversation(prevConversation => [...prevConversation, userMessage]);\n    setMessage('');\n    setIsLoading(true); // Start loading\n\n    try {\n      console.log('Sending message to backend:', message);\n      const response = await axios.post('http://localhost:5000/api/chat', {\n        message,\n        userId\n      });\n      console.log('Received response from backend:', response.data);\n      const botMessage = {\n        sender: 'bot',\n        text: response.data.reply\n      };\n      setConversation(prevConversation => [...prevConversation, botMessage]);\n    } catch (error) {\n      console.error('Error sending message:', error);\n      const errorMessage = {\n        sender: 'bot',\n        text: 'Oops! Something went wrong. Please try again.'\n      };\n      setConversation(prevConversation => [...prevConversation, errorMessage]);\n    } finally {\n      setIsLoading(false); // Stop loading\n    }\n  }, [message, userId]);\n\n  // Auto-scroll to the bottom of the chat window\n  useEffect(() => {\n    if (chatWindowRef.current) {\n      chatWindowRef.current.scrollTop = chatWindowRef.current.scrollHeight;\n    }\n  }, [conversation]);\n\n  // Handle Enter key press\n  const handleKeyPress = useCallback(e => {\n    if (e.key === 'Enter' && !isLoading) {\n      sendMessage();\n    }\n  }, [sendMessage, isLoading]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-window\",\n      ref: chatWindowRef,\n      children: [conversation.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message ${msg.sender}`,\n        children: msg.text\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message bot\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-dots\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \".\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \".\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \".\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: message,\n        onChange: e => setMessage(e.target.value),\n        onKeyPress: handleKeyPress,\n        placeholder: \"Type a message...\",\n        disabled: isLoading // Disable input while loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendMessage,\n        disabled: isLoading,\n        children: isLoading ? 'Sending...' : 'Send'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"tbQLYCPcrlEr8SepVVGAjek8H/s=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useCallback","useRef","useEffect","axios","jsxDEV","_jsxDEV","App","_s","message","setMessage","conversation","setConversation","isLoading","setIsLoading","userId","chatWindowRef","sendMessage","trim","userMessage","sender","text","prevConversation","console","log","response","post","data","botMessage","reply","error","errorMessage","current","scrollTop","scrollHeight","handleKeyPress","e","key","className","children","ref","map","msg","index","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","target","onKeyPress","placeholder","disabled","onClick","_c","$RefreshReg$"],"sources":["C:/Users/hp/Desktop/MirAI/fullstack-chatbot/frontend/src/App.js"],"sourcesContent":["import React, { useState, useCallback, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nconst App = () => {\n    const [message, setMessage] = useState('');\n    const [conversation, setConversation] = useState([]);\n    const [isLoading, setIsLoading] = useState(false); // Loading state\n    const userId = 'user123'; // Replace with a unique user ID (e.g., from authentication)\n    const chatWindowRef = useRef(null); // Ref for auto-scrolling\n\n    // Function to send a message\n    const sendMessage = useCallback(async () => {\n        if (!message.trim()) return;\n\n        const userMessage = { sender: 'user', text: message };\n        setConversation((prevConversation) => [...prevConversation, userMessage]);\n        setMessage('');\n        setIsLoading(true); // Start loading\n\n        try {\n            console.log('Sending message to backend:', message);\n            const response = await axios.post('http://localhost:5000/api/chat', { message, userId });\n            console.log('Received response from backend:', response.data);\n\n            const botMessage = { sender: 'bot', text: response.data.reply };\n            setConversation((prevConversation) => [...prevConversation, botMessage]);\n        } catch (error) {\n            console.error('Error sending message:', error);\n            const errorMessage = { sender: 'bot', text: 'Oops! Something went wrong. Please try again.' };\n            setConversation((prevConversation) => [...prevConversation, errorMessage]);\n        } finally {\n            setIsLoading(false); // Stop loading\n        }\n    }, [message, userId]);\n\n    // Auto-scroll to the bottom of the chat window\n    useEffect(() => {\n        if (chatWindowRef.current) {\n            chatWindowRef.current.scrollTop = chatWindowRef.current.scrollHeight;\n        }\n    }, [conversation]);\n\n    // Handle Enter key press\n    const handleKeyPress = useCallback(\n        (e) => {\n            if (e.key === 'Enter' && !isLoading) {\n                sendMessage();\n            }\n        },\n        [sendMessage, isLoading]\n    );\n\n    return (\n        <div className=\"chat-container\">\n            <div className=\"chat-window\" ref={chatWindowRef}>\n                {conversation.map((msg, index) => (\n                    <div key={index} className={`message ${msg.sender}`}>\n                        {msg.text}\n                    </div>\n                ))}\n                {isLoading && (\n                    <div className=\"message bot\">\n                        <div className=\"loading-dots\">\n                            <span>.</span>\n                            <span>.</span>\n                            <span>.</span>\n                        </div>\n                    </div>\n                )}\n            </div>\n            <div className=\"input-container\">\n                <input\n                    type=\"text\"\n                    value={message}\n                    onChange={(e) => setMessage(e.target.value)}\n                    onKeyPress={handleKeyPress}\n                    placeholder=\"Type a message...\"\n                    disabled={isLoading} // Disable input while loading\n                />\n                <button onClick={sendMessage} disabled={isLoading}>\n                    {isLoading ? 'Sending...' : 'Send'}\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}